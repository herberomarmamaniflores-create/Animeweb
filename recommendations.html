<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recomendaciones de Anime - Tokio</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <style>
        /* --- Contenido de css/globals.css --- */

        /* 1. IMPORTACIÓN DE FUENTES */
        @import url('https://fonts.googleapis.com/css2?family=Gochi+Hand&family=M+PLUS+Rounded+1c:wght@400;700&display=swap');

        :root {
            --color-primary: #b10302;
            --color-secondary: #8c9657;
            --color-accent: #f4e0b2;
            --color-background: #fefdfa;
            --color-white: #ffffff;
            --color-text: #4a4a4a;
            --color-text-muted: #8c9657;
            
            --font-body: 'M PLUS Rounded 1c', sans-serif;
            --font-heading: 'Gochi Hand', cursive;
        }

        /* 2. RESET Y GLOBALES */
        body {
            font-family: var(--font-body);
            background-color: var(--color-background);
            color: var(--color-text);
            line-height: 1.6;
            margin: 0;
            padding-top: 60px; /* Espacio para la nav fija */
        }

        h1, h2, h3, h4, h5, h6 {
            margin-top: 0;
            font-weight: 700;
        }

        h1 {
            font-family: var(--font-heading);
            font-size: 3.5rem;
            color: var(--color-primary);
            line-height: 1.2;
        }

        h2 {
            font-family: var(--font-heading);
            font-size: 2.5rem;
            color: var(--color-text);
            border-bottom: 2px solid var(--color-accent);
            padding-bottom: 5px;
            margin-bottom: 15px;
        }

        h3 {
            font-size: 1.25rem;
            color: var(--color-text);
        }

        a {
            color: var(--color-primary);
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        img {
            max-width: 100%;
            height: auto;
            display: block;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }

        .muted {
            color: var(--color-text-muted);
            font-size: 0.95rem;
        }

        section {
            margin-bottom: 3rem;
        }

        /* 3. BARRA DE NAVEGACIÓN (SOBREESCRIBIENDO MATERIALIZE) */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 100;
            background-color: rgba(254, 253, 250, 0.9);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        nav .nav-wrapper {
            background-color: transparent !important; 
            padding: 0 1rem;
        }

        nav .brand-logo {
            color: var(--color-primary) !important;
            font-family: var(--font-body);
            font-weight: 700;
            font-size: 1.8rem !important;
        }

        /* 4. ESTILOS PARA MENÚ HAMBURGUESA CUSTOM */
        .nav-menu {
            display: flex;
            list-style: none;
            margin: 0;
            padding: 0;
            float: right; 
        }

        .nav-menu li a {
            display: block;
            padding: 0 15px;
            line-height: 60px;
            color: var(--color-text) !important;
            font-size: 1rem;
            font-weight: 700;
            text-decoration: none;
            transition: color 0.3s ease;
            position: relative;
        }

        .nav-menu li a:hover {
            color: var(--color-primary) !important;
            text-decoration: none;
        }

        .nav-menu li a.active {
            color: var(--color-primary) !important;
        }

        .nav-menu li a.active::after {
            content: '';
            display: block;
            width: 70%;
            height: 3px;
            background: var(--color-primary);
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
        }

        /* 5. LÓGICA DEL HAMBURGUESA (MÓVIL) */
        .nav-toggle {
            display: none;
        }

        .nav-hamburger {
            display: none;
            cursor: pointer;
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 101;
        }

        .nav-hamburger span {
            display: block;
            width: 25px;
            height: 3px;
            background: var(--color-text);
            margin: 5px 0;
            transition: all 0.3s ease;
        }

        /* 6. RESPONSIVE NAV */
        @media (max-width: 992px) {
            .nav-menu {
                display: none;
                flex-direction: column;
                position: absolute;
                top: 60px;
                left: 0;
                width: 100%;
                background-color: var(--color-background);
                box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            }
            .nav-menu li a {
                line-height: 50px;
                width: 100%;
                text-align: center;
                border-bottom: 1px solid var(--color-accent);
            }
            .nav-menu li a.active::after {
                display: none;
            }
            .nav-hamburger {
                display: block;
            }
            .nav-toggle:checked ~ .nav-menu {
                display: flex;
            }
            .nav-toggle:checked ~ .nav-hamburger span:nth-child(1) {
                transform: rotate(45deg) translate(5px, 5px);
            }
            .nav-toggle:checked ~ .nav-hamburger span:nth-child(2) {
                opacity: 0;
            }
            .nav-toggle:checked ~ .nav-hamburger span:nth-child(3) {
                transform: rotate(-45deg) translate(7px, -7px);
            }
        }
        
        /* --- Contenido de css/theme-vintage.css --- */

        /* 1. GRID DE TARJETAS (AJUSTE MATERIALIZE) */
        .row {
            margin-bottom: 0 !important;
        }
        
        .row .col {
            padding: 0 0.75rem !important;
            margin-bottom: 1.5rem; /* Espacio vertical */
        }
        
        /* 2. ESTILOS DE TARJETAS (OVERRIDE MATERIALIZE) */
        .card {
            background: var(--color-white) !important;
            border-radius: 12px !important;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.07) !important;
            margin: 0 !important;
            display: flex;
            flex-direction: column;
            height: 100%;
            transition: all 0.3s ease;
        }
        
        .card:hover {
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1) !important;
            transform: translateY(-5px);
        }

        .card .card-image {
            border-radius: 12px 12px 0 0;
            overflow: hidden;
            position: relative;
        }
        
        .card .card-image img {
            height: 250px; /* Altura estándar para tarjetas */
            object-fit: cover;
            width: 100%;
        }
        
        .card .card-image .card-title {
            font-family: var(--font-body);
            font-weight: 700;
            font-size: 1.4rem !important;
            line-height: 1.4 !important;
            width: 100%;
            background: linear-gradient(0deg, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.4) 50%, rgba(0,0,0,0) 100%);
        }

        .card .card-content {
            flex-grow: 1;
            padding: 20px !important;
        }
        
        .card .card-content p {
            color: var(--color-text);
            line-height: 1.6;
            font-size: 0.95rem;
            color: var(--color-text-muted); /* Usamos el color 'muted' para la recomendación */
        }
        
        /* Título de la recomendación (agregado) */
        .card .card-content .recommend-title {
            font-family: var(--font-body);
            font-weight: 700;
            color: var(--color-primary);
            font-size: 1.1rem;
            margin-bottom: 5px;
        }


        .card .card-action {
            background-color: transparent !important;
            border-top: 1px solid var(--color-accent) !important;
            padding: 16px 20px !important;
        }
        
        .card .card-action a {
            color: var(--color-primary) !important;
            font-weight: 700;
            text-transform: none !important;
            font-size: 1rem;
        }
        .card .card-action a:hover {
            color: var(--color-text) !important;
        }

        /* 3. FOOTER (Estilos reutilizados) */
        .site-footer {
            background-color: var(--color-accent);
            color: var(--color-text);
            padding-top: 3rem;
            margin-top: 3rem;
        }

        .footer-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 2rem;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        .footer-left {
            flex: 2;
            min-width: 250px;
        }

        .footer-brand {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
        }

        .footer-logo {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            min-width: 50px;
            background-color: var(--color-primary);
            border-radius: 50%;
        }
        .footer-logo::before {
            content: "TOKIO";
            font-family: var(--font-body);
            font-weight: 700;
            font-size: 0.7rem;
            color: var(--color-white);
            text-align: center;
            line-height: 1;
        }

        .footer-brand h3 {
            font-family: var(--font-body);
            font-size: 1.5rem;
            color: var(--color-primary);
            margin-bottom: 0.5rem;
        }

        .socials {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        /* **PASO 3: Ajuste CSS para iconos** */
        .socials a {
            display: inline-flex; /* Usamos flex para centrar el icono */
            align-items: center;
            justify-content: center;
            width: 32px; /* Un poco más grande para el icono */
            height: 32px;
            background-color: rgba(0,0,0,0.1);
            color: var(--color-text);
            border-radius: 4px;
            text-decoration: none;
            transition: background-color 0.3s;
            font-size: 1rem; /* Tamaño del icono */
        }
        /* Quitamos estilos de texto que ya no aplican */
        /* .socials a { font-size: 0.8rem; font-weight: 700; line-height: 30px; text-align: center;} */


        .socials a:hover {
            background-color: var(--color-primary);
            color: var(--color-white);
        }

        .footer-col {
            flex: 1;
            min-width: 160px;
        }

        .footer-col h4 {
            font-family: var(--font-body);
            color: var(--color-primary);
            margin-bottom: 1rem;
        }

        .footer-col ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .footer-col li {
            margin-bottom: 0.75rem;
        }

        .footer-col a {
            color: var(--color-text);
            text-decoration: none;
        }
        .footer-col a:hover {
            color: var(--color-primary);
            text-decoration: underline;
        }

        .lang-btn {
            background: transparent;
            border: 1px solid var(--color-text-muted);
            color: var(--color-text-muted);
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-family: var(--font-body);
            font-size: 0.9rem;
        }

        .lang-btn:hover {
            background: var(--color-text-muted);
            color: var(--color-white);
        }
         body::before {
              content: '';
              position: fixed;
              top: 0;
              left: 0;
              width: 100vw;
              height: 100vh;
              background-image: url('fondo 2.jpg');
              background-size: cover;
              background-position: center;
              opacity: 0.30;
              z-index: 0;
              pointer-events: none;
        }

        .footer-bottom {
            text-align: center;
            padding: 1.5rem 1rem;
            margin-top: 2rem;
            background-color: rgba(0, 0, 0, 0.05);
            font-size: 0.9rem;
        }

        /* NUEVOS ESTILOS PARA FILTROS Y ORDENAMIENTO */
        .controls-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 2rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .sort-section {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .sort-btn {
            background: transparent;
            border: 2px solid var(--color-primary);
            color: var(--color-primary);
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-family: var(--font-body);
            font-weight: 700;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .sort-btn:hover {
            background-color: var(--color-primary);
            color: var(--color-white);
            transform: translateY(-2px);
        }

        .sort-btn.active {
            background-color: var(--color-primary);
            color: var(--color-white);
        }

        .filters-section {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .filter-toggle-btn {
            background: transparent;
            border: 2px solid var(--color-primary);
            color: var(--color-primary);
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-family: var(--font-body);
            font-weight: 700;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            position: relative;
        }

        .filter-toggle-btn:hover {
            background-color: var(--color-primary);
            color: var(--color-white);
            transform: translateY(-2px);
        }

        .filter-toggle-btn.active {
            background-color: var(--color-primary);
            color: var(--color-white);
        }

        /* Panel de filtros desplegable */
        .filter-panel {
            display: none;
            position: fixed;
            top: 120px;
            right: 20px;
            background: var(--color-white);
            border-radius: 12px;
            padding: 2rem;
            min-width: 280px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            animation: slideDown 0.3s ease;
            border: 2px solid var(--color-accent);
        }

        .filter-panel.active {
            display: block;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .filter-panel-content h4 {
            color: var(--color-text);
            margin-top: 0;
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .filter-options {
            display: flex;
            flex-direction: column;
            gap: 1.2rem;
        }

        .filter-radio {
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            position: relative;
        }

        .filter-radio input[type="radio"] {
            display: none;
        }

        .radio-custom {
            width: 20px;
            height: 20px;
            border: 2px solid var(--color-text-muted);
            border-radius: 50%;
            position: relative;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .filter-radio input[type="radio"]:checked + .radio-custom {
            border-color: var(--color-primary);
            background: radial-gradient(circle, var(--color-primary) 0%, var(--color-primary) 100%);
            box-shadow: 0 0 0 3px rgba(177, 3, 2, 0.15);
        }

        .filter-radio input[type="radio"]:checked + .radio-custom::after {
            content: '';
            position: absolute;
            width: 8px;
            height: 8px;
            background: var(--color-white);
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .radio-label {
            color: var(--color-text-muted);
            font-family: var(--font-body);
            font-size: 0.95rem;
            user-select: none;
        }

        .filter-radio input[type="radio"]:checked + .radio-custom + .radio-label {
            color: var(--color-text);
            font-weight: 600;
        }

        @media (max-width: 768px) {
            .filter-panel {
                top: auto;
                right: auto;
                left: 20px;
                min-width: 250px;
            }
        }

        /* EFECTO HOVER EN TARJETAS CON INFORMACIÓN */
        .anime-card-wrapper {
            position: relative;
            height: 100%;
        }

        .card-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.9) 0%, rgba(177, 3, 2, 0.8) 100%);
            border-radius: 12px;
            opacity: 0;
            transition: opacity 0.3s ease;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            color: var(--color-white);
            padding: 2rem;
            z-index: 10;
        }

        .card:hover .card-overlay {
            opacity: 1;
        }

        .anime-title-overlay {
            font-family: var(--font-heading);
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .anime-rating {
            font-size: 1.3rem;
            color: var(--color-accent);
            margin-bottom: 0.5rem;
            letter-spacing: 2px;
        }

        .anime-rating i {
            color: #ffd700;
            margin-right: 0.3rem;
        }

        .anime-info-overlay {
            font-size: 0.9rem;
            line-height: 1.6;
            opacity: 0.95;
        }

        .anime-info-overlay p {
            margin: 0.3rem 0;
        }

        @media (max-width: 768px) {
            .controls-container {
                flex-direction: column;
                align-items: stretch;
                gap: 1rem;
            }

            .sort-section {
                justify-content: center;
            }

            .filters-section {
                justify-content: center;
            }

            .filter-select {
                min-width: 100%;
            }
        }
    </style>
</head>
<body>
    <nav>
        <div class="nav-wrapper">
            <a href="index.html" class="brand-logo" style="display:flex;align-items:center;gap:10px;">
                <img src="IMG_1870-removebg-preview.png" alt="Logo Tokio" style="height:90px;width:auto;object-fit:contain;">
            </a>
            <input id="nav-toggle" class="nav-toggle" type="checkbox">
            <label for="nav-toggle" class="nav-hamburger" aria-hidden="true">
                <span></span><span></span><span></span>
            </label>
            <ul class="nav-menu">
                <li><a href="index.html">Inicio</a></li>
                <li><a href="blog.html">Blog</a></li>
                <li><a href="animes.html">Animes</a></li>
                <li><a href="movies.html">Películas</a></li>
                <li><a href="reviews.html">Reseñas</a></li>
                <li><a href="recommendations.html" class="active">Recomendaciones</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <h1>Recomendados por Tokyo</h1>
        
        <!-- Controles de filtros y ordenamiento -->
        <div class="controls-container">
            <div class="sort-section">
                <button class="sort-btn active" data-sort="reciente">
                    <i class="fas fa-fire"></i> LO MÁS RECIENTE
                </button>
                <button class="sort-btn" data-sort="popularidad">
                    <i class="fas fa-star"></i> POPULARIDAD
                </button>
                <button class="sort-btn" data-sort="alfabetico">
                    <i class="fas fa-font"></i> ALFABÉTICO
                </button>
            </div>
            
            <div class="filters-section">
                <button class="filter-toggle-btn" data-filter="idioma">
                    <i class="fas fa-filter"></i> IDIOMA
                </button>
                <button class="filter-toggle-btn" data-filter="formato">
                    <i class="fas fa-filter"></i> FILTROS
                </button>
            </div>
            
            <!-- Panel de filtros desplegable -->
            <div class="filter-panel" id="idioma-panel">
                <div class="filter-panel-content">
                    <h4>Idioma</h4>
                    <div class="filter-options">
                        <label class="filter-radio">
                            <input type="radio" name="idioma" value="todos" checked>
                            <span class="radio-custom"></span>
                            <span class="radio-label">Todos</span>
                        </label>
                        <label class="filter-radio">
                            <input type="radio" name="idioma" value="subtitulado">
                            <span class="radio-custom"></span>
                            <span class="radio-label">Subtitulado</span>
                        </label>
                        <label class="filter-radio">
                            <input type="radio" name="idioma" value="doblado">
                            <span class="radio-custom"></span>
                            <span class="radio-label">Doblado</span>
                        </label>
                    </div>
                </div>
            </div>
            
            <div class="filter-panel" id="formato-panel">
                <div class="filter-panel-content">
                    <h4>Formato</h4>
                    <div class="filter-options">
                        <label class="filter-radio">
                            <input type="radio" name="formato" value="todos" checked>
                            <span class="radio-custom"></span>
                            <span class="radio-label">Todos</span>
                        </label>
                        <label class="filter-radio">
                            <input type="radio" name="formato" value="series">
                            <span class="radio-custom"></span>
                            <span class="radio-label">Series</span>
                        </label>
                        <label class="filter-radio">
                            <input type="radio" name="formato" value="pelicula">
                            <span class="radio-custom"></span>
                            <span class="radio-label">Películas</span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="row" id="anime-container">
        </div>
    </div>

    <footer class="site-footer">
        <div class="container footer-container">
            <div class="footer-left">
                <div class="footer-brand">
                    <div class="footer-logo"></div>
                    <div>
                        <h3>TOKIO</h3>
                        <p class="muted">Te damos la bienvenida a TOKIO, tu destino para descubrir y disfrutar el mejor anime clásico y moderno.</p>
                         <div class="socials">
                            <a href="https://www.youtube.com" aria-label="YouTube" target="_blank" rel="noopener"><i class="fab fa-youtube"></i></a>
                            <a href="https://www.facebook.com" aria-label="Facebook" target="_blank" rel="noopener"><i class="fab fa-facebook-f"></i></a>
                            <a href="https://www.instagram.com" aria-label="Instagram" target="_blank" rel="noopener"><i class="fab fa-instagram"></i></a>
                            <a href="https://x.com" aria-label="X" target="_blank" rel="noopener"><i class="fab fa-twitter"></i></a> 
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-col">
                <h4>Explorador</h4>
                <ul>
                    <li><a href="#">Explorar lo más popular</a></li>
                    <li><a href="#">Explorar los Simulcasts</a></li>
                    <li><a href="#">Calendario de lanzamientos</a></li>
                    <li><a href="#">Noticias</a></li>
                    <li><a href="#">Juegos</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h4>Recursos</h4>
                <ul>
                    <li><a href="#">Acerca</a></li>
                    <li><a href="#">Hazte con nuestras aplicaciones</a></li>
                    <li><a href="#">Empleo</a></li>
                    <li><a href="#">Centro de ayuda</a></li>
                    <li><a href="#">Contacto de prensa</a></li>
                </ul>
                <div style="margin-top:12px;"><button class="lang-btn">Español ▾</button></div>
            </div>
        </div>
    <div class="footer-bottom">© 2025 TOKIO — Todos los derechos reservados</div>
    </footer>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    
    <script>
        // Base de datos de animes
        const animes = [
            {
                id: 1,
                title: "One Piece",
                image: "https://cdn.shopify.com/s/files/1/0773/0826/4786/files/dc064b8caab3091db0362fcbea0662889c2e26116959c3d47a6b946169d87172.jpg?v=1736415070",
                rating: 4.8,
                votes: "731.9K",
                episodes: 28,
                totalEpisodes: 1407,
                description: "Historias largas con personajes entrañables y un mundo vasto por explorar.",
                idioma: "subtitulado",
                formato: "series",
                dateAdded: 20,
                popularity: 98
            },
            {
                id: 2,
                title: "Dragon Ball",
                image: "https://imgsrv.crunchyroll.com/cdn-cgi/image/fit=cover,format=auto,quality=85,width=1920/keyart/GR19V7816-backdrop_wide",
                rating: 4.7,
                votes: "620.5K",
                episodes: 153,
                totalEpisodes: 153,
                description: "Los combates épicos, el entrenamiento y la nostalgia del shōnen clásico.",
                idioma: "doblado",
                formato: "series",
                dateAdded: 15,
                popularity: 95
            },
            {
                id: 3,
                title: "Boku no Hero",
                image: "https://i.blogs.es/0afb29/bnha_anime/1366_2000.jpeg",
                rating: 4.6,
                votes: "580.2K",
                episodes: 25,
                totalEpisodes: 177,
                description: "Las historias de superhéroes, la superación personal y el ambiente escolar.",
                idioma: "subtitulado",
                formato: "series",
                dateAdded: 18,
                popularity: 92
            },
            {
                id: 4,
                title: "Kimetsu no Yaiba",
                image: "https://fotografias-neox.atresmedia.com/clipping/cmsimages02/2021/07/09/43A2FF28-B577-4FF6-BD97-9F65A598D6C6/98.jpg?crop=1920,1080,x0,y0&width=1900&height=1069&optimize=high&format=webply",
                rating: 4.9,
                votes: "710.3K",
                episodes: 55,
                totalEpisodes: 55,
                description: "Una animación hermosa, combates fluidos y una intensa historia de hermanos.",
                idioma: "doblado",
                formato: "series",
                dateAdded: 5,
                popularity: 99
            },
            {
                id: 5,
                title: "Naruto",
                image: "https://i.pinimg.com/736x/12/40/64/124064eaccc5555b86d4e1eb44de437a.jpg",
                rating: 4.8,
                votes: "850.0K",
                episodes: 220,
                totalEpisodes: 220,
                description: "Las historias de crecimiento, la camaradería y un mundo ninja lleno de técnicas.",
                idioma: "subtitulado",
                formato: "series",
                dateAdded: 12,
                popularity: 96
            },
            {
                id: 6,
                title: "Chainsaw Man",
                image: "https://sm.ign.com/ign_latam/screenshot/default/chainsaw-galeria_y8dk.jpg",
                rating: 4.5,
                votes: "450.8K",
                episodes: 12,
                totalEpisodes: 25,
                description: "El humor negro, la acción subversiva y personajes moralmente ambiguos.",
                idioma: "subtitulado",
                formato: "series",
                dateAdded: 10,
                popularity: 88
            },
            {
                id: 7,
                title: "Demon Slayer Movie",
                image: "https://imgs.search.brave.com/h6txB6gyfj-X4WXnDPUArMJQ7r55_QhUqRA5MTkxx4I/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly93d3cu/dGhlLW51bWJlcnMu/Y29tL2ltYWdlcy9t/b3ZpZXMvb3B1c2Rh/dGEvRGVtb24tU2xh/eWVyLUtpbWV0c3Ut/bm8tWWFpYmEtVGhl/LU1vdmllLUluZmlu/aXR5LUNhc3RsZS0o/MjAyNS1KYXBhbiku/anBn",
                rating: 4.9,
                votes: "520.1K",
                episodes: 1,
                totalEpisodes: 1,
                episodesLabel: "Infinity Castle",
                totalEpisodesLabel: "Solo en cines",
                description: "La película más épica de Kimetsu no Yaiba con gráficos de ensueño.",
                idioma: "doblado",
                formato: "pelicula",
                dateAdded: 8,
                popularity: 94
            },
            {
                id: 8,
                title: "Attack on Titan",
                image:  "https://m.media-amazon.com/images/M/MV5BZjliODY5MzQtMmViZC00MTZmLWFhMWMtMjMwM2I3OGY1MTRiXkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg",
                rating: 4.7,
                votes: "680.5K",
                episodes: 16,
                totalEpisodes: 139,
                description: "Una batalla épica entre humanos y titanes en un mundo lleno de misterio.",
                idioma: "subtitulado",
                formato: "series",
                dateAdded: 3,
                popularity: 97
            },
            {
                id: 9,
                title: "Jujutsu Kaisen",
                image: "https://external-preview.redd.it/jujutsu-kaisen-season-3-will-be-some-of-the-best-anime-ever-v0-p0WFRquUzQSEo8nboYUCLPqj5ZhyiL9F6Yuu122FtGQ.jpeg?width=640&crop=smart&auto=webp&s=8dcacd2d0bd7e5547755d85906b5374fc1a6abad",
                rating: 4.6,
                votes: "620.2K",
                episodes: 24,
                totalEpisodes: 50,
                description: "Maldiciones, poder sobrenatural y una academia de hechiceros.",
                idioma: "subtitulado",
                formato: "series",
                dateAdded: 2,
                popularity: 91
            },
            {
                id: 10,
                title: "Death Note",
                image: "https://i0.wp.com/malguionnuncamuere.wordpress.com/wp-content/uploads/2015/10/light.jpg?fit=1200%2C565&ssl=1",
                rating: 4.7,
                votes: "890.0K",
                episodes: 37,
                totalEpisodes: 37,
                description: "Un thriller psicológico donde un estudiante encuentra un cuaderno del muerte.",
                idioma: "doblado",
                formato: "series",
                dateAdded: 1,
                popularity: 93
            }
        ];

        let currentSort = 'reciente';
        let currentFilters = {
            idioma: 'todos',
            formato: 'todos'
        };

        // Función para renderizar tarjetas
        function renderAnimes(animesToRender) {
            const container = document.getElementById('anime-container');
            container.innerHTML = '';

            animesToRender.forEach(anime => {
                const col = document.createElement('div');
                col.className = 'col s12 m6 l4';
                col.innerHTML = `
                    <div class="anime-card-wrapper">
                        <div class="card">
                            <div class="card-image">
                                <img src="${anime.image}" alt="${anime.title}">
                                <span class="card-title">${anime.title}</span>
                                <div class="card-overlay">
                                    <div class="anime-title-overlay">${anime.title}</div>
                                    <div class="anime-rating">
                                        <i class="fas fa-star"></i> ${anime.rating} (${anime.votes})
                                    </div>
                                    <div class="anime-info-overlay">
                                        <p>${anime.episodesLabel || anime.episodes + ' Temporadas'}</p>
                                        <p>${anime.totalEpisodesLabel || anime.totalEpisodes + ' Episodios'}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="card-content">
                                <p class="recommend-title">Ideal si te gustan...</p>
                                <p>${anime.description}</p>
                            </div>
                            <div class="card-action">
                                <a href="#">Ver más</a>
                            </div>
                        </div>
                    </div>
                `;
                container.appendChild(col);
            });
        }

        // Función para filtrar animes
        function filterAnimes() {
            let filtered = animes.filter(anime => {
                const idiomaMatch = currentFilters.idioma === 'todos' || anime.idioma === currentFilters.idioma;
                const formatoMatch = currentFilters.formato === 'todos' || anime.formato === currentFilters.formato;
                return idiomaMatch && formatoMatch;
            });

            // Aplicar ordenamiento
            if (currentSort === 'reciente') {
                filtered.sort((a, b) => b.dateAdded - a.dateAdded);
            } else if (currentSort === 'popularidad') {
                filtered.sort((a, b) => b.popularity - a.popularity);
            } else if (currentSort === 'alfabetico') {
                filtered.sort((a, b) => a.title.localeCompare(b.title));
            }

            renderAnimes(filtered);
        }

        // Event listeners para botones de ordenamiento
        document.querySelectorAll('.sort-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.sort-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                currentSort = this.dataset.sort;
                filterAnimes();
            });
        });

        // Event listeners para filtros con radio buttons
        document.querySelectorAll('input[name="idioma"]').forEach(radio => {
            radio.addEventListener('change', function() {
                currentFilters.idioma = this.value;
                filterAnimes();
            });
        });

        document.querySelectorAll('input[name="formato"]').forEach(radio => {
            radio.addEventListener('change', function() {
                currentFilters.formato = this.value;
                filterAnimes();
            });
        });

        // Toggle de paneles de filtros
        document.querySelectorAll('.filter-toggle-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const filterType = this.dataset.filter;
                const panel = document.getElementById(filterType + '-panel');
                
                // Cerrar otros paneles
                document.querySelectorAll('.filter-panel').forEach(p => {
                    if (p !== panel) {
                        p.classList.remove('active');
                    }
                });
                
                document.querySelectorAll('.filter-toggle-btn').forEach(b => {
                    if (b !== this) {
                        b.classList.remove('active');
                    }
                });
                
                // Toggle del panel actual
                panel.classList.toggle('active');
                this.classList.toggle('active');
            });
        });

        // Cerrar panel al hacer clic fuera
        document.addEventListener('click', function(event) {
            const filterPanel = document.querySelector('.filter-panel.active');
            const filterBtn = event.target.closest('.filter-toggle-btn');
            const filterContent = event.target.closest('.filter-panel');
            
            if (filterPanel && !filterBtn && !filterContent) {
                filterPanel.classList.remove('active');
                document.querySelectorAll('.filter-toggle-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
            }
        });

        // Renderizar animes al cargar la página
        document.addEventListener('DOMContentLoaded', function() {
            filterAnimes();
        });
    </script>
</html>